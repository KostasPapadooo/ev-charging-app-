{"options":{"validator":{"$jsonSchema":{"bsonType":"object","required":["email","password_hash","first_name","last_name","created_at"],"properties":{"email":{"bsonType":"string","pattern":"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$","description":"Valid email address"},"password_hash":{"bsonType":"string","minLength":{"$numberInt":"8"},"description":"Hashed password"},"first_name":{"bsonType":"string","minLength":{"$numberInt":"1"},"maxLength":{"$numberInt":"50"}},"last_name":{"bsonType":"string","minLength":{"$numberInt":"1"},"maxLength":{"$numberInt":"50"}},"phone":{"bsonType":"string","pattern":"^\\+?[1-9]\\d{1,14}$"},"preferences":{"bsonType":"object","properties":{"preferred_connector_types":{"bsonType":"array","items":{"enum":["CCS","CHAdeMO","Type2","Type1","Tesla"]}},"max_distance_km":{"bsonType":"double","minimum":{"$numberInt":"1"},"maximum":{"$numberInt":"100"}},"notification_radius_km":{"bsonType":"double","minimum":{"$numberInt":"1"},"maximum":{"$numberInt":"50"}},"preferred_power_min_kw":{"bsonType":"double","minimum":{"$numberDouble":"3.7"}}}},"subscription":{"bsonType":"object","properties":{"type":{"enum":["FREE","PREMIUM"]},"notifications_limit":{"bsonType":"int","minimum":{"$numberInt":"0"}},"expires_at":{"bsonType":["date","null"]}}},"location":{"bsonType":"object","properties":{"type":{"enum":["Point"]},"coordinates":{"bsonType":"array","minItems":{"$numberInt":"2"},"maxItems":{"$numberInt":"2"},"items":{"bsonType":"double"}}}},"created_at":{"bsonType":"date"},"last_login":{"bsonType":"date"},"is_active":{"bsonType":"bool"}}}}},"indexes":[{"v":{"$numberInt":"2"},"key":{"_id":{"$numberInt":"1"}},"name":"_id_"},{"v":{"$numberInt":"2"},"key":{"email":{"$numberInt":"1"}},"name":"email_1","unique":true}],"uuid":"7809cfb166044521a27e2eef3c5e72c9","collectionName":"users","type":"collection"}