{"options":{"validator":{"$jsonSchema":{"bsonType":"object","required":["station_id","timestamp","status_snapshot"],"properties":{"station_id":{"bsonType":"string","description":"Reference to current_stations.tomtom_id"},"timestamp":{"bsonType":"date","description":"Snapshot timestamp"},"status_snapshot":{"bsonType":"object","required":["station_status","total_connectors","available_connectors"],"properties":{"station_status":{"enum":["AVAILABLE","OCCUPIED","OFFLINE","MAINTENANCE"]},"total_connectors":{"bsonType":"int","minimum":{"$numberInt":"0"}},"available_connectors":{"bsonType":"int","minimum":{"$numberInt":"0"}},"occupied_connectors":{"bsonType":"int","minimum":{"$numberInt":"0"}},"out_of_order_connectors":{"bsonType":"int","minimum":{"$numberInt":"0"}}}},"connector_details":{"bsonType":"array","items":{"bsonType":"object","properties":{"connector_id":{"bsonType":"string"},"type":{"bsonType":"string"},"status":{"bsonType":"string"},"session_duration_minutes":{"bsonType":"int","minimum":{"$numberInt":"0"}}}}},"usage_metrics":{"bsonType":"object","properties":{"sessions_today":{"bsonType":"int","minimum":{"$numberInt":"0"}},"avg_session_duration":{"bsonType":"double","minimum":{"$numberInt":"0"}},"peak_hour":{"bsonType":"string"}}},"batch_id":{"bsonType":"string"}}}}},"indexes":[{"v":{"$numberInt":"2"},"key":{"_id":{"$numberInt":"1"}},"name":"_id_"},{"v":{"$numberInt":"2"},"key":{"timestamp":{"$numberInt":"-1"},"station_id":{"$numberInt":"1"}},"name":"timestamp_-1_station_id_1"},{"v":{"$numberInt":"2"},"key":{"timestamp":{"$numberInt":"-1"}},"name":"timestamp_-1"},{"v":{"$numberInt":"2"},"key":{"station_id":{"$numberInt":"1"},"timestamp":{"$numberInt":"-1"}},"name":"station_id_1_timestamp_-1"},{"v":{"$numberInt":"2"},"key":{"timestamp":{"$numberInt":"1"}},"name":"timestamp_ttl","background":true,"expireAfterSeconds":{"$numberInt":"7776000"}},{"v":{"$numberInt":"2"},"key":{"status":{"$numberInt":"1"},"timestamp":{"$numberInt":"-1"}},"name":"status_1_timestamp_-1","background":true}],"uuid":"6d44da79a219480d8d51fbbff87bfee3","collectionName":"historical_stations","type":"collection"}